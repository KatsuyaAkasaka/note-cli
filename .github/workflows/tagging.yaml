name: tagging
on:
  workflow_dispatch:
    inputs:
      tag_name:
        description: 'tag name (e.g. v1.2.3)'
        required: true

jobs:
   tagging:
     runs-on: ubuntu-latest
     steps:
       - uses: actions/checkout@v2
       - run: |
          TAG_NAME=${{ github.event.inputs.tag_name }}
          if [[ ! $TAG_NAME =~ ^v[0-9]+.[0-9]+.[0-9]+$ ]] ;
          then
            echo -e "\e[31m tag versioning should be sermver. \e[m"
            exit 1
          fi
          git tag $TAG_NAME
          git push origin $TAG_NAME
